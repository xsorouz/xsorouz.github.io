/* ============================================================================
   app.css — Xavier Rousseau (VERSION COMMENTÉE, v2)
   Objectif : feuille unique, lisible, autonome (sans Hyperspace)
   Mode d’emploi rapide :
     1) Les "TOKENS" (variables CSS dans :root) pilotent thème, typo et layout.
     2) Chaque section est précédée d’un bloc d’explications métier/UX.
     3) Les media-queries restent collées à la section qu’elles modifient.
   Astuce : cherche «TODO:XAV» pour des points ajustables en 10s.
   ========================================================================== */

/* --------------------------------
   0) RESET LÉGER & BASE
   Pourquoi :
     - Unifier le box model (border-box) → largeur = contenu + bordure + padding.
     - Retirer les marges par défaut → page propre.
     - Définir le thème sombre par défaut et la pile de polices système.
----------------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
html { -webkit-text-size-adjust: 100%; } /* iOS : pas de zoom auto */
body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial,
               "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; /* pile sûr/performante */
  background: #0f172a; /* --bg : Bleu nuit */
  color: rgba(241,245,249,0.90); /* --text : Gris clair lisible */
  line-height: 1.6; /* confort de lecture */
}
img { max-width: 100%; height: auto; display: block; } /* images responsives */
a { color: #3b82f6; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.25); }
a:hover, a:focus { color: #22d3ee; border-bottom-color: transparent; } /* feedback discret */
hr { border: 0; border-bottom: 1px solid rgba(148,163,184,0.25); margin: 2rem 0; }
blockquote { margin: 1rem 0; padding-left: 1rem; border-left: 3px solid rgba(148,163,184,0.25); }
code, pre code {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.18);
  padding: .15rem .4rem; /* compact pour inline */
  border-radius: 6px;
}

/* --------------------------------
   1) TOKENS (variables)
   Idée : tout ce qui change souvent (couleurs, tailles, espacements) vit ici.
   → Tu peux créer un thème clair en dupliquant ces variables dans @media (prefers-color-scheme: light).
----------------------------------- */
:root{
  /* Surfaces */
  --bg:            #0f172a;    /* fond général */
  --surface-1:     #111827;    /* cartes */
  --surface-2:     #0b1221;    /* variantes */

  /* Texte */
  --text:          rgba(241,245,249,0.90);
  --text-strong:   #ffffff;    /* titres */
  --text-muted:    rgba(148,163,184,0.95); /* méta */

  /* Traits */
  --line:          rgba(148,163,184,0.25);

  /* Marque (dégradé bleu → cyan) */
  --brand:         #3b82f6;
  --brand-2:       #22d3ee;

  /* Anneau de focus (accessibilité) */
  --focus-ring:    0 0 0 3px rgba(34,211,238,0.35);

  /* Typo fluide */
  --fs-body: clamp(1rem, 1.05vw, 1.05rem);
  --lh-body: 1.70;

  --fs-h1: clamp(2.0rem, 4.2vw, 3.2rem);
  --fs-h2: clamp(1.6rem, 3.2vw, 2.2rem);
  --fs-h3: clamp(1.25rem, 2.2vw, 1.35rem);
  --fs-lead: clamp(1.05rem, 1.5vw, 1.15rem);

  /* Layout */
  --container-max: 1360px;      /* largeur max confort */
  --gutter-x:      2.25rem;     /* padding horizontal */
  --sidebar-w:     clamp(13rem, 18vw, 18rem); /* rail */
  --topbar-h:      3.5em;       /* nav compacte mobile */
  --br-card:       16px;        /* arrondis */
}

/* Typo titres */
h1, h2, h3, h4, h5, h6 { color: var(--text-strong); margin: 0 0 .6rem 0; line-height: 1.25; }
h1 { font-size: var(--fs-h1); }
h2 { font-size: var(--fs-h2); }
h3 { font-size: var(--fs-h3); }
.muted, header p { color: var(--text-muted); }
p { font-size: var(--fs-body); line-height: var(--lh-body); }

/* Skip link (accessibilité clavier) : apparaît au focus, évite la tabulation infinie */
.skip-link:focus {
  position: fixed !important;
  left: 1rem !important; top: 1rem !important;
  width: auto !important; height: auto !important;
  padding: .5rem .75rem;
  background: #111827; color: #fff; border-radius: 8px;
  z-index: 10000;
}

/* Focus visible générique pour tous les interactifs */
a:focus-visible, .button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible{
  outline: none; box-shadow: var(--focus-ring);
}

/* --------------------------------
   2) NAVIGATION LATÉRALE (SIDEBAR)
   Comportement :
     - Desktop : rail fixe à gauche.
     - ≤1280px : le rail devient topbar horizontale scrollable.
   Accessibilité : support de [aria-current="page"].
----------------------------------- */
#sidebar{
  background: var(--bg);
  width: var(--sidebar-w);
  padding: 1.5rem 1rem;
  position: fixed; left: 0; top: 0; bottom: 0;
  overflow-y: auto; z-index: 1000;
}
#sidebar .inner{ position: sticky; top: 1rem; } /* garde la nav visible dans le rail */

#sidebar nav > ul{ list-style: none; margin: 0; padding: 0; }
#sidebar nav > ul > li{ margin: .25rem 0 0; }
#sidebar nav > ul > li:first-child{ margin-top: 0; }

#sidebar nav a{
  display:block; position:relative;
  padding:.6rem 0; color: rgba(255,255,255,.45);
  font-size: clamp(.85rem, .9vw, 1rem);
  letter-spacing:.05em; line-height:1.6;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; /* coupe proprement */
  border:0; text-decoration:none; transition: color .2s ease;
}
#sidebar nav a:hover{ color: rgba(255,255,255,.75); }
#sidebar nav a.active,
#sidebar nav a[aria-current="page"]{ color: var(--text-strong); }
#sidebar nav a::before,
#sidebar nav a::after{
  content:""; position:absolute; left:0; right:0; bottom:0; height:2px; border-radius:3px;
}
#sidebar nav a::before{ background: rgba(255,255,255,.12); } /* rail */
#sidebar nav a::after{
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  transform-origin: left center; transform: scaleX(0);
  transition: transform .25s ease;
}
#sidebar nav a.active::after,
#sidebar nav a[aria-current="page"]::after,
#sidebar nav a:focus-visible::after{ transform: scaleX(1); }

/* Décalage du contenu principal quand le rail existe */
#sidebar + #wrapper,
#sidebar + #wrapper + #footer{ margin-left: var(--sidebar-w); }

/* Topbar (≤1280px) : le rail devient une barre horizontale scrollable */
@media (max-width: 1280px){
  #sidebar{
    width: 100%; height: var(--topbar-h);
    padding: .5rem 1rem; display:flex; align-items:center;
  }
  #sidebar .inner{ position: static; width:100%; }
  #sidebar nav{ overflow-x: auto; white-space: nowrap; }
  #sidebar nav > ul{ display:flex; gap: 1.25rem; align-items:center; }
  #sidebar nav a{ padding:.25rem 0; white-space: normal; }
  #sidebar + #wrapper,
  #sidebar + #wrapper + #footer{
    margin-left: 0; padding-top: var(--topbar-h); /* réserve l’espace topbar */
  }
}

/* --------------------------------
   3) WRAPPERS & CONTAINERS
   .wrapper : bandes horizontales avec padding vertical.
   .inner   : centrage + largeur max.
   .styleX  : variations de fond pour rythmer la page.
----------------------------------- */
.wrapper { padding: 3rem 0; } /* (corrigé) rythme plus lisse */
.wrapper.style1     { background-color: #12203a; }
.wrapper.style1-alt { background-color: #0f1a30; }
.wrapper.style2     { background-color: #132a52; }
.wrapper.style2-alt { background-color: #0f2346; }
.wrapper.style3     { background-color: #0b1e35; }
.wrapper.style3-alt { background-color: #0a1a2d; }

.inner { max-width: var(--container-max); margin: 0 auto; padding: 0 var(--gutter-x); }

/* Soulignement décoratif (optionnel) pour les h1.major */
h1.major::after{
  content:""; display:block; height: 3px; margin-top: .6rem;
  background-image: linear-gradient(to right, var(--brand), var(--brand-2));
  opacity: .9;
}

/* Ancrage propre sous topbar : les ancres ne passent pas sous la nav */
section[id]{ scroll-margin-top: calc(var(--topbar-h) + 12px); }

/* --------------------------------
   4) BOUTONS & FORMULAIRES
   Variantes : .primary, .outline, .ghost → même base pour la cohérence.
----------------------------------- */
.button,
button,
input[type="submit"], input[type="reset"], input[type="button"]{
  display: inline-flex; align-items: center; justify-content: center;
  text-align: center; gap: .45rem;
  min-height: 48px; padding-inline: 1.15rem; /* cible tactile confortable */
  border-radius: 999px; border: 1px solid rgba(255,255,255,0.18);
  color: var(--text-strong); background: transparent;
  line-height: 1.25; cursor: pointer;
  transition: filter .2s ease, box-shadow .2s ease, transform .15s ease, border-color .2s ease;
}
.button:hover { border-color: rgba(255,255,255,0.55); }
.button.primary{
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
  color: #fff; border-color: transparent; box-shadow: 0 10px 25px rgba(0,0,0,.25);
}
.button.primary:hover{ filter: brightness(1.05); }
.button.primary:active{ filter:brightness(.95); transform: translateY(1px); }
.button.outline{ background: transparent; border-color: rgba(255,255,255,.28); }
.button.outline:hover{ background: rgba(255,255,255,.06); }
.button.ghost{ background: transparent; border: 1px dashed rgba(255,255,255,.28); }
.button.ghost:hover{ border-style: solid; background: rgba(255,255,255,.04); }

label{ color: var(--text-strong); }
input[type="text"], input[type="password"], input[type="email"], input[type="tel"], select, textarea{
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.18);
  color: var(--text);
  width: 100%; padding: .65rem .8rem; border-radius: 10px;
}
input::placeholder, textarea::placeholder{ color: rgba(255,255,255,0.35); }
input:focus, select:focus, textarea:focus{
  border-color: #ffffff; box-shadow: var(--focus-ring); outline: none;
}
select option{ background: var(--bg); color: var(--text-strong); }

/* Grille de formulaire */
form > .fields{
  display:grid; grid-template-columns: 1fr 1fr; gap: 1rem 1rem;
  width: 100%; margin: 0 0 1.25rem 0;
}
form > .fields .field{ width: 100%; }
form > .fields .field.half{ grid-column: span 1; }
@media (max-width: 680px){
  form > .fields{ grid-template-columns: 1fr; }
}

/* --------------------------------
   5) HERO (intro)
   Grille 2 colonnes : texte | visuel. En mobile → 1 colonne.
----------------------------------- */
#intro{ background-image: none; background-color: transparent; }
#intro p{ font-size: var(--fs-body); line-height: var(--lh-body); }

#intro .hero-inner{
  max-width: var(--container-max); margin: 0 auto; padding: 6rem var(--gutter-x) 2.5rem; /* (corrigé) */
  display: grid;
  grid-template-areas: "copy photo";
  grid-template-columns: minmax(520px, 1fr) minmax(300px, 420px);
  gap: clamp(1rem, 2vw, 2.25rem); align-items: start;
}
#intro .hero-col{ min-width: 0; } /* autorise le shrink sans débordement */
#intro .hero-col--text{ grid-area: copy; justify-self: start; max-width: 68ch; }
#intro .hero-title{ font-size: clamp(2.6rem, 5.2vw, 4rem); line-height: 1.08; margin: 0 0 .65rem 0; }
#intro .hero-role{ font-size: var(--fs-lead); opacity: .9; margin: 0 0 1rem 0; }
#intro .hl{ font-weight: 700; }
#intro .hero-status{
  display:flex; align-items:center; flex-wrap:nowrap; gap:.85rem 1.1rem;
  margin:1.2rem 0 1.4rem 0; padding:0; list-style:none;
}
#intro .hero-status li{
  display:inline-flex; align-items:center; gap:.55rem; padding:.55rem 1.05rem;
  border-radius:999px; background: rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.22);
  color:var(--text-strong); font-weight:600; font-size:1.02rem; white-space:nowrap;
  transition: background .25s ease, border-color .25s ease, transform .18s ease;
}
#intro .hero-status li:hover{ background: var(--brand); color:#0f172a; border-color: var(--brand-2); transform: translateY(-1px); }
#intro .hero-status .status-ico{
  display:inline-grid; place-items:center; width:1.6rem; height:1.6rem; border-radius:50%;
  background: rgba(255,255,255,0.08); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.15);
  font-size:.95rem; line-height:1;
}
#intro .hero-bullets{ list-style:none; padding:0; margin:.95rem 0 1.85rem 0; display:grid; gap:.75rem; }
#intro .hero-bullets li{ display:flex; align-items:flex-start; gap:.65rem; }
#intro .hero-actions{ display:flex; gap:1.1rem; flex-wrap:nowrap; margin-top:.6rem; }
#intro .hero-actions .button{ white-space: normal; }

/* Colonne visuelle */
#intro .hero-col--visual{ grid-area: photo; position: relative; min-height: 340px; margin-left: -12px; }
#intro .portrait{
  position:relative; width:clamp(240px, 24vw, 340px); height:clamp(240px, 24vw, 340px);
  margin-left:auto; border-radius:999px; overflow:hidden;
  border:1px solid rgba(255,255,255,0.10);
  box-shadow: 0 18px 45px rgba(0,0,0,0.38), 0 0 0 6px rgba(255,255,255,0.04) inset; z-index:2;
}
#intro .portrait img{ width:100%; height:100%; object-fit:cover; }

#intro .hero-blob{
  position:absolute; right:-6%; top:-6%;
  width:clamp(300px,45vw,540px); height:clamp(300px,45vw,540px);
  filter:blur(28px);
  background:
    radial-gradient(60% 60% at 60% 40%, #4aa8ff55, transparent 70%),
    radial-gradient(60% 60% at 30% 70%, #9c6bff40, transparent 70%);
  border-radius:50%; z-index:1; pointer-events:none;
  animation: blobFloat 12s ease-in-out infinite alternate;
  max-width: 95vw; max-height: 95vw;
}
@keyframes blobFloat{ from{ transform:translateY(0) translateX(0) scale(1);} to{ transform:translateY(-10px) translateX(8px) scale(1.03);} }
@media (prefers-reduced-motion: reduce){ #intro .hero-blob{ animation:none; } }

/* Responsive hero */
@media (min-width:1101px) and (max-width:1360px){
  #intro .hero-inner{ grid-template-columns: minmax(480px,1fr) minmax(280px,380px); }
  #intro .hero-col--visual{ margin-left: -8px; }
}
@media (max-width:1100px){
  #intro .hero-inner{
    grid-template-areas: "copy" "photo"; /* pile */
    grid-template-columns: 1fr; gap: 2.25rem;
  }
  #intro .hero-col--visual{ margin-left: 0; }
  #intro .portrait{ margin:0 auto; }
  #intro .hero-blob{ left:50%; transform:translateX(-50%); right:auto; }
}
@media (max-width:880px){
  #intro .hero-status{ flex-wrap:wrap; }
  #intro .hero-actions{ flex-wrap:wrap; }
}

/* --------------------------------
   6) À PROPOS (#about / #one) — image + bloc texte
   Grille : [image] [texte]. ≤980px : 1 colonne, image centrée.
----------------------------------- */
#about.spotlights > section,
#one.spotlights   > section{
  display: grid;
  grid-template-columns: minmax(0, clamp(220px, 24vw, 320px)) 1fr; /* image | texte */
  gap: clamp(1rem, 2.5vw, 2rem);
  align-items: start; /* passe à center pour centrage vertical */
}
#about .image,
#one   .image{
  width: auto; display: block; position: relative;
  align-self: start; justify-self: center;
  background: none !important;
}
#about .image::before,
#one   .image::before{ opacity: 0 !important; }
#about .image img,
#one   .image img{
  display: block !important;
  width: clamp(220px, 24vw, 320px); /* aligne avec la 1re colonne */
  height: auto; border-radius: 14px;
  box-shadow: 0 12px 28px rgba(0,0,0,0.35); margin: 0 auto;
}
#about .content,
#one   .content{ width: 100%; padding: 0; }
#about .content .inner,
#one   .content .inner{
  max-width: 64ch; margin-inline: auto; text-align: left;
}
#about .content .inner p,
#one   .content .inner p{
  font-size: var(--fs-body); line-height: var(--lh-body); color: var(--text);
  text-align: justify; hyphens: auto; text-wrap: balance; margin: 0 0 .9rem 0;
}
#about .content .inner em,
#one   .content .inner em{ display: inline-block; margin-top:.5rem; }

@media (max-width: 980px){
  #about.spotlights > section,
  #one.spotlights   > section{ grid-template-columns: 1fr; }
  #about .image, #one .image{ justify-self: center; }
  #about .content .inner, #one .content .inner{ max-width: 70ch; padding: 0 1rem; }
}

/* --------------------------------
   7) VALEUR — cartes
   Grid 3 → 2 → 1. Hover doux.
----------------------------------- */
#value.wrapper.style2{ background: linear-gradient(135deg, #12203a 0%, #1a3661 100%); }
#value .value-inner{ max-width: 1200px; margin: 0 auto; padding: 4rem 2rem 3rem 2rem; }
#value .value-header{ text-align:center; margin-bottom:2.25rem; }
#value .value-header .lead{ font-size: var(--fs-lead); opacity:.85; }

#value .value-grid{
  display:grid; grid-template-columns:repeat(3, minmax(0,1fr));
  gap:1.75rem; align-items:stretch;
}
@media (max-width:1180px){ #value .value-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); gap:1.5rem; } }
@media (max-width:760px){
  #value .value-inner{ padding:3rem 1.2rem 2.5rem 1.2rem; }
  #value .value-grid{ grid-template-columns:1fr; gap:1.2rem; }
}
#value .card{
  background: rgba(255,255,255,0.045); border: 1px solid rgba(255,255,255,0.12);
  border-radius: var(--br-card); padding: 1.5rem 1.4rem; position:relative; overflow:hidden; height:100%;
  display:flex; flex-direction:column; gap:.9rem; box-shadow: 0 10px 28px rgba(0,0,0,0.25);
  transition: transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
}
#value .card:hover{ transform: translateY(-6px); border-color: rgba(255,255,255,0.18); box-shadow: 0 14px 36px rgba(0,0,0,0.30); }
#value .icon-badge{
  display:inline-grid; place-items:center; width:56px; height:56px; border-radius:50%;
  background: rgba(255,255,255,0.07); color:#69b7ff; font-size:1.35rem;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.12);
}
#value .card h3{ text-align:center; margin:0; line-height:1.35; font-size:1.15rem; }

/* CTA valeur */
#value .value-cta{
  display:flex; flex-wrap:wrap; gap:.9rem 1rem; justify-content:center; align-items:stretch; margin-top:2rem;
}

/* --------------------------------
   8) COMPÉTENCES (skills-section ou skills)
   Variante compacte sans grande image décorative.
----------------------------------- */
#skills-section.spotlights > section,
#skills.spotlights         > section{ display:block; padding:0; }
#skills-section .image, #skills .image{ display:none; }
#skills-section .content, #skills .content{ width:100%; max-width:none; padding:0; }
#skills-section .content .inner,
#skills .content .inner{
  max-width: min(1280px, calc(100vw - var(--sidebar-w) - 2 * var(--gutter-x)));
  margin: 0 auto;
}
#skills-section .features,
#skills .features{
  display:grid;
  grid-template-columns: repeat(2, minmax(420px, 1fr));
  gap: 1.35rem; align-items: stretch;
  background: transparent; border: 0; box-shadow: none; padding: 0; margin: 0; position: relative;
}
@media (min-width:1600px){
  #skills-section .content .inner, #skills .content .inner{ max-width: 1400px; }
  #skills-section .features, #skills .features{ grid-template-columns: repeat(3, minmax(360px, 1fr)); }
}
@media (max-width:980px){ #skills-section .features, #skills .features{ grid-template-columns: 1fr; } }

#skills-section .features > section,
#skills .features > section{
  background: rgba(255,255,255,0.045); border: 1px solid rgba(255,255,255,0.12);
  border-radius: var(--br-card); padding: 1.25rem 1.25rem 1.15rem;
  display:flex; flex-direction:column; box-shadow: 0 10px 28px rgba(0,0,0,0.25);
  transition: transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
}
#skills-section .features > section:hover,
#skills .features > section:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,0.18); box-shadow: 0 14px 36px rgba(0,0,0,0.30); }
#skills-section .features .icon,
#skills .features .icon{
  display:inline-grid; place-items:center; width:56px; height:56px;
  border-radius:50%; background: rgba(255,255,255,0.07); color:#69b7ff;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.12); margin-bottom: .75rem;
}
#skills-section .features h3, #skills .features h3{ margin:.15rem 0 .35rem; line-height:1.25; text-wrap: balance; }
#skills-section .features p,  #skills .features p { margin:0; text-wrap: pretty; hyphens: manual; overflow-wrap: break-word; }

/* --------------------------------
   9) EXPÉRIENCES & FORMATION (boxes)
   Conteneur générique réutilisable (timeline, items, etc.).
----------------------------------- */
.box{
  background: rgba(255,255,255,0.045); border: 1px solid rgba(255,255,255,0.12);
  border-radius: var(--br-card); padding: 1.5rem 1.4rem; box-shadow: 0 10px 28px rgba(0,0,0,0.25);
}
.box header{ display:flex; justify-content:space-between; align-items: baseline; gap:1rem; }
.box header h3{ margin:0; }

/* --------------------------------
   10) CONTACT (split)
   Split 2 colonnes → 1 colonne ≤980px.
----------------------------------- */
.split.style1{ display:grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
@media (max-width: 980px){ .split.style1{ grid-template-columns: 1fr; } }
.contact{ list-style:none; padding:0; margin:0; display:grid; gap:1rem; }
.contact h3{ margin:0 0 .25rem 0; }

/* Réseaux */
ul.icons{ list-style:none; padding:0; margin:0; }
ul.icons li{ display:inline-block; padding:0 .75rem 0 0; }
ul.icons li:last-child{ padding-right:0; }
ul.icons a{ border:0; }

/* --------------------------------
   11) FOOTER
----------------------------------- */
#footer .menu{ list-style:none; padding:0; margin:0; display:flex; gap:1rem; flex-wrap:wrap; }
#footer .menu a{ border-bottom-color: transparent; }

/* --------------------------------
   12) ANIMATIONS DOUCES
   Apparition verticale légère. Respecte prefers-reduced-motion.
----------------------------------- */
.fade-up { opacity: 0; transform: translateY(10px); animation: fadeUp .6s ease .1s forwards; }
@keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

/* --------------------------------
   13) GARDES-FOUS TYPO GLOBAUX
   Garantit une cohérence de corps/hauteur dans les sections denses.
----------------------------------- */
.wrapper p, .features section p{ font-size: var(--fs-body); line-height: var(--lh-body); }

/* --------------------------------
   TODO:XAV — pistes rapides d’amélioration
   - Extraire les couleurs .wrapper.styleX en variables (--surface-*) si tu veux switcher de thème plus vite.
   - Ajouter .button.contrast { color:#0f172a } si tu poses des boutons sur fonds très clairs.
   - Créer un set d’espacements :root (--space-1/2/3) et remplacer les valeurs magiques.
----------------------------------- */
